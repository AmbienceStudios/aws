<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
   
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="Jet Urban Clothing Presents"
      content="NFT Project"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
   
    
  
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  
    <title>Jet Urban Warriors</title>





  </head>



  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    
    <div class="canvas-element">
      <canvas class="webgl"></canvas>
  </div>
    <div id="root"></div>

    <script type="module">
      import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r132/build/three.module.js';
      import {GLTFLoader} from 'https://threejsfundamentals.org/threejs/resources/threejs/r132/examples/jsm/loaders/GLTFLoader.js';
      import {OrbitControls} from 'https://threejsfundamentals.org/threejs/resources/threejs/r132/examples/jsm/controls/OrbitControls.js';

      let scene;
      let camera;
      let renderer;
      let house;
      let model_container = document.querySelector('.webgl');
      const canvasSize = document.querySelector('.canvas-element');

      // const stats = new Stats()
      // document.body.appendChild(stats.domElement);


      
      const init = () => {
    // scene setup
    scene = new THREE.Scene();

    scene.background = new THREE.Color( 0x111111 );

    
    //camera setup
    const fov = 20;
    const aspect = canvasSize.offsetWidth / canvasSize.offsetHeight;
    const near = 0.1;
    const far = 1000;

    camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
    camera.position.set(0, 0, 3);
    camera.lookAt(scene.position);
    scene.add(camera);

    //renderer setup
    renderer = new THREE.WebGLRenderer({
        antialias: true,
        alpha: true,
        canvas: model_container
    });
    renderer.setSize(canvasSize.offsetWidth, canvasSize.offsetHeight);
    renderer.setPixelRatio((window.devicePixelRatio) ? window.devicePixelRatio : 1);
    renderer.autoClear = false;
    renderer.setClearColor(0x000000, 1);


    // orbitcontrol setup
    // const controls = new OrbitControls(camera, renderer.domElement);

 
    // to disable zoom
      // controls.enableZoom = false;

    // to disable rotation
      // controls.enableRotate = false;


    // to disable pan
      // controls.enablePan = false;

    // ambient light setup
    const amibientLight = new THREE.AmbientLight(0x404040, 2);
    scene.add(amibientLight);

    // direction lights setup
    const spotLight1 = new THREE.SpotLight(0xffffff, 10);
    spotLight1.position.set(6, 0, 20);
    spotLight1.castShadow = true;
    const spotLightHelper1 = new THREE.SpotLightHelper(spotLight1, 1, 0x00ff00);
    scene.add(spotLight1);

    // orenge light setup
    const spotLight2 = new THREE.SpotLight(0xffffff, 8);
    spotLight2.position.set(-2, 0, -12);
    spotLight2.castShadow = true;
    const spotLightHelper2 = new THREE.SpotLightHelper(spotLight2, 2, 0x00ff00);
    scene.add(spotLight2);

    // back light setup
    const spotLight3 = new THREE.SpotLight(0xff0000, 10);
    spotLight3.position.set(2, -18, -20);
    spotLight3.castShadow = true;
    const spotLightHelper3 = new THREE.SpotLightHelper(spotLight3, 2, 0xff0000);
    scene.add(spotLight3);


    // helper code for setting light position
    // const gui = new GUI();

    // blue light controls
    // const blueLight = gui.addFolder('BlueLight');
    // blueLight.add(spotLight1.position, "x", -30, 30, 1);
    // blueLight.add(spotLight1.position, "y", -30, 30, 1);
    // blueLight.add(spotLight1.position, "z", -30, 30, 1);

    // // orenge light controls
    // const orengeLight = gui.addFolder('OrengeLight');
    // orengeLight.add(spotLight2.position, "x", -40, 40, 1);
    // orengeLight.add(spotLight2.position, "y", -40, 40, 1);
    // orengeLight.add(spotLight2.position, "z", -40, 40, 1);

    // // back light controls
    // const backLight = gui.addFolder('BackLight');
    // backLight.add(spotLight3.position, "x", -40, 40, 1);
    // backLight.add(spotLight3.position, "y", -40, 40, 1);
    // backLight.add(spotLight3.position, "z", -40, 40, 1);

    // loding gltf 3d model
    const loader = new GLTFLoader();
    loader.load("%PUBLIC_URL%/model/boxerWeb.glb", (gltf) => {
        house = gltf.scene;
        house.scale.set(1, 1, 1)
        house.position.set(0, -.4, 0)
        house.rotation.x = 0;
        scene.add(gltf.scene);
    });

    animate();
}

var SPEED = 0.01;

function rotateModel() {
    // house.rotation.x -= SPEED * 2;
    house.rotation.y -= SPEED;
    // house.rotation.z -= SPEED * 3;
}

// redering scene and camera
const render = () => {
    renderer.render(scene, camera);
}

// animation recursive function

const animate = () => {
    requestAnimationFrame(animate);
    rotateModel();

    // group.rotation += 0.005;

    render();
    // stats.update();
}



console.log(Math.sin(10));

// making responsive
const windowResize = () => {
    camera.aspect = canvasSize.offsetWidth / canvasSize.offsetHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(canvasSize.offsetWidth, canvasSize.offsetHeight);
    render();
}

window.addEventListener('resize', windowResize, false);
window.onload = init;
      </script>

  </body>


  <style>
    body { margin: 0; }
    
    canvas { width: 100vw; height: 100vh; display: block; background; }



  </style>

</html>
